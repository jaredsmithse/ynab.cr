<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Crystal Docs 0.34.0">
<meta name="crystal_docs.project_version" content="HEAD">
<meta name="crystal_docs.project_name" content="ynab.cr">


<link href="css/style.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/doc.js"></script>

<svg class="hidden">
  <symbol id="octicon-link" viewBox="0 0 16 16">
    <path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path>
  </symbol>
</svg>

  <meta id="repository-name" content="ynab.cr">
  <title>ynab.cr HEAD</title>
  <script type="text/javascript">
  CrystalDocs.base_path = "";
  </script>
</head>
<body>

<div class="sidebar">
  <div class="sidebar-header">
    <div class="search-box">
      <input type="search" class="search-input" placeholder="Search..." spellcheck="false" aria-label="Search">
    </div>

    <div class="project-summary">
      <h1 class="project-name">
        <a href="index.html">
          ynab.cr
        </a>
      </h1>

      <span class="project-version">
        HEAD
      </span>
    </div>
  </div>

  <div class="search-results" class="hidden">
    <ul class="search-list"></ul>
  </div>

  <div class="types-list">
    <ul>
  
  <li class=" " data-id="ynab.cr/Account" data-name="account">
      <a href="Account.html">Account</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/AccountType" data-name="accounttype">
      <a href="AccountType.html">AccountType</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/BudgetDetail" data-name="budgetdetail">
      <a href="BudgetDetail.html">BudgetDetail</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/BudgetSettings" data-name="budgetsettings">
      <a href="BudgetSettings.html">BudgetSettings</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/BudgetSummary" data-name="budgetsummary">
      <a href="BudgetSummary.html">BudgetSummary</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/Category" data-name="category">
      <a href="Category.html">Category</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/CategoryGroup" data-name="categorygroup">
      <a href="CategoryGroup.html">CategoryGroup</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/CategoryGroupWithCategories" data-name="categorygroupwithcategories">
      <a href="CategoryGroupWithCategories.html">CategoryGroupWithCategories</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/ClearedStatus" data-name="clearedstatus">
      <a href="ClearedStatus.html">ClearedStatus</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/CurrencyFormat" data-name="currencyformat">
      <a href="CurrencyFormat.html">CurrencyFormat</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/DateFormat" data-name="dateformat">
      <a href="DateFormat.html">DateFormat</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/FlagColor" data-name="flagcolor">
      <a href="FlagColor.html">FlagColor</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/Frequency" data-name="frequency">
      <a href="Frequency.html">Frequency</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/MonthDetail" data-name="monthdetail">
      <a href="MonthDetail.html">MonthDetail</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/MonthSummary" data-name="monthsummary">
      <a href="MonthSummary.html">MonthSummary</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/Payee" data-name="payee">
      <a href="Payee.html">Payee</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/PayeeLocation" data-name="payeelocation">
      <a href="PayeeLocation.html">PayeeLocation</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/ScheduledSubTransaction" data-name="scheduledsubtransaction">
      <a href="ScheduledSubTransaction.html">ScheduledSubTransaction</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/ScheduledTransactionSummary" data-name="scheduledtransactionsummary">
      <a href="ScheduledTransactionSummary.html">ScheduledTransactionSummary</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/SubTransaction" data-name="subtransaction">
      <a href="SubTransaction.html">SubTransaction</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/TransactionDetail" data-name="transactiondetail">
      <a href="TransactionDetail.html">TransactionDetail</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/TransactionSummary" data-name="transactionsummary">
      <a href="TransactionSummary.html">TransactionSummary</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/User" data-name="user">
      <a href="User.html">User</a>
      
    </li>
  
  <li class="parent " data-id="ynab.cr/YNAB" data-name="ynab">
      <a href="YNAB.html">YNAB</a>
      
        <ul>
  
  <li class="parent " data-id="ynab.cr/YNAB/API" data-name="ynab::api">
      <a href="YNAB/API.html">API</a>
      
        <ul>
  
  <li class=" " data-id="ynab.cr/YNAB/API/Accounts" data-name="ynab::api::accounts">
      <a href="YNAB/API/Accounts.html">Accounts</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/AccountsWrapper" data-name="ynab::api::accountswrapper">
      <a href="YNAB/API/AccountsWrapper.html">AccountsWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/AccountWrapper" data-name="ynab::api::accountwrapper">
      <a href="YNAB/API/AccountWrapper.html">AccountWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/BudgetDetailWrapper" data-name="ynab::api::budgetdetailwrapper">
      <a href="YNAB/API/BudgetDetailWrapper.html">BudgetDetailWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/Budgets" data-name="ynab::api::budgets">
      <a href="YNAB/API/Budgets.html">Budgets</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/BudgetSettingsWrapper" data-name="ynab::api::budgetsettingswrapper">
      <a href="YNAB/API/BudgetSettingsWrapper.html">BudgetSettingsWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/BudgetSummaryWrapper" data-name="ynab::api::budgetsummarywrapper">
      <a href="YNAB/API/BudgetSummaryWrapper.html">BudgetSummaryWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/Categories" data-name="ynab::api::categories">
      <a href="YNAB/API/Categories.html">Categories</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/CategoryGroupsWrapper" data-name="ynab::api::categorygroupswrapper">
      <a href="YNAB/API/CategoryGroupsWrapper.html">CategoryGroupsWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/CategoryWrapper" data-name="ynab::api::categorywrapper">
      <a href="YNAB/API/CategoryWrapper.html">CategoryWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/MonthDetailWrapper" data-name="ynab::api::monthdetailwrapper">
      <a href="YNAB/API/MonthDetailWrapper.html">MonthDetailWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/MonthSummariesWrapper" data-name="ynab::api::monthsummarieswrapper">
      <a href="YNAB/API/MonthSummariesWrapper.html">MonthSummariesWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/PayeeLocations" data-name="ynab::api::payeelocations">
      <a href="YNAB/API/PayeeLocations.html">PayeeLocations</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/PayeeLocationsWrapper" data-name="ynab::api::payeelocationswrapper">
      <a href="YNAB/API/PayeeLocationsWrapper.html">PayeeLocationsWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/PayeeLocationWrapper" data-name="ynab::api::payeelocationwrapper">
      <a href="YNAB/API/PayeeLocationWrapper.html">PayeeLocationWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/Payees" data-name="ynab::api::payees">
      <a href="YNAB/API/Payees.html">Payees</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/PayeesWrapper" data-name="ynab::api::payeeswrapper">
      <a href="YNAB/API/PayeesWrapper.html">PayeesWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/PayeeWrapper" data-name="ynab::api::payeewrapper">
      <a href="YNAB/API/PayeeWrapper.html">PayeeWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/Transactions" data-name="ynab::api::transactions">
      <a href="YNAB/API/Transactions.html">Transactions</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/TransactionsWrapper" data-name="ynab::api::transactionswrapper">
      <a href="YNAB/API/TransactionsWrapper.html">TransactionsWrapper</a>
      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/API/UserWrapper" data-name="ynab::api::userwrapper">
      <a href="YNAB/API/UserWrapper.html">UserWrapper</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="ynab.cr/YNAB/Client" data-name="ynab::client">
      <a href="YNAB/Client.html">Client</a>
      
        <ul>
  
  <li class=" " data-id="ynab.cr/YNAB/Client/HabitatSettings" data-name="ynab::client::habitatsettings">
      <a href="YNAB/Client/HabitatSettings.html">HabitatSettings</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="ynab.cr/YNAB/UserApi" data-name="ynab::userapi">
      <a href="YNAB/UserApi.html">UserApi</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

  </div>
</div>


<div class="main-content">
<h1><a id="ynab" class="anchor" href="#ynab">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>ynab</h1>

<p><a href="https://travis-ci.org/jaredsmithse/ynab.cr" target="_blank"><img src="https://travis-ci.org/jaredsmithse/ynab.cr.svg?branch=master" alt="Build Status"/></a>
<a href="https://github.com/c910335/mass-spec/blob/master/LICENSE" target="_blank"><img src="https://img.shields.io/github/license/c910335/mass-spec.svg" alt="GitHub license"/></a>
<a href="https://github.com/jaredsmithse/ynab/releases" target="_blank"><img src="https://img.shields.io/github/release/jaredsmithse/ynab.svg" alt="GitHub release"/></a></p>

<p>This is an API client for YNAB. It has most of the basic operations for fetching your data from YNAB. See the issues for this project for missing functionality. The primary functionality that still needs implementation is Delta Requests.</p>

<h2><a id="installation" class="anchor" href="#installation">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Installation</h2>

<p>Add this to your application's <code>shard.yml</code>:</p>

<pre><code class="language-yaml">dependencies:
  ynab:
    github: jaredsmithse/ynab</code></pre>

<h2><a id="usage" class="anchor" href="#usage">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Usage</h2>

<p>The YNAB API has two base objects, <code>Budget</code> and <code><a href="User.html">User</a></code>. <code><a href="User.html">User</a></code> has no other nested resources, while every other resource is nested under <code>Budget</code>. If you have a <code>budget_id</code> you can initialize the resource you want directly. All available resources are in the <code>./src/api/</code> folder.</p>

<h3><a id="examples" class="anchor" href="#examples">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Examples</h3>

<h4><a id="configuration" class="anchor" href="#configuration">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Configuration</h4>

<p>Instructions for obtaining your own API token can be found on the YNAB website <a href="https://api.youneedabudget.com" target="_blank">here</a>.</p>

<pre><code class="language-crystal"><span class="k">require</span> <span class="s">&quot;ynab&quot;</span>

<span class="t">YNAB</span><span class="t">::</span><span class="t">Client</span>.configure <span class="k">do</span> <span class="o">|</span>settings<span class="o">|</span>
  settings.access_token <span class="o">=</span> ynab_api_token
  settings.base_url <span class="o">=</span> <span class="s">&quot;https://api.youneedabudget.com/v1/&quot;</span>
<span class="k">end</span>
client <span class="o">=</span> <span class="t">YNAB</span><span class="t">::</span><span class="t">Client</span></code></pre>

<h4><a id="getting-all-budgets-for-an-account" class="anchor" href="#getting-all-budgets-for-an-account">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Getting All Budgets For An Account</h4>

<pre><code class="language-crystal">client <span class="o">=</span> <span class="t">YNAB</span><span class="t">::</span><span class="t">Client</span>
budgets <span class="o">=</span> client.budgets.get_all.each <span class="k">do</span> <span class="o">|</span>budget<span class="o">|</span>
  puts budget.name
<span class="k">end</span></code></pre>

<h4><a id="working-with-resources-for-a-budget" class="anchor" href="#working-with-resources-for-a-budget">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Working With Resources For A Budget</h4>

<pre><code class="language-crystal">client <span class="o">=</span> <span class="t">YNAB</span><span class="t">::</span><span class="t">Client</span>
<span class="c"># Get a list of accounts with a pre-fetched budget_id</span>
budgets <span class="o">=</span> client.budgets.get_all

<span class="c"># you can alternatively do budgets.first.accounts.get_all</span>
accounts <span class="o">=</span> client.accounts(budgets.first.id).get_all
accounts.each { <span class="o">|</span>account<span class="o">|</span> <span class="s">&quot;</span><span class="i">#{</span>account.name<span class="i">}</span><span class="s">: $</span><span class="i">#{</span>account.balance <span class="o">/</span> <span class="n">100</span><span class="i">}</span><span class="s">&quot;</span> }

<span class="c"># Find how many times you use Lyft every month</span>
transactions <span class="o">=</span> budgets.first.transactions.get_all
transactions.
  <span class="k">select</span> { <span class="o">|</span>txn<span class="o">|</span> txn.payee_name <span class="o">==</span> <span class="s">&quot;Lyft&quot;</span> }.
  group_by { <span class="o">|</span>txn<span class="o">|</span> <span class="s">&quot;</span><span class="i">#{</span>txn.date.year<span class="i">}</span><span class="s">-</span><span class="i">#{</span>txn.date.month<span class="i">}</span><span class="s">&quot;</span> }.
  transform_values(<span class="o">&amp;</span>.size)</code></pre>

<h2><a id="development" class="anchor" href="#development">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Development</h2>

<p>For development, you will need a personal access token from YNAB. You can find instructions on how to get one for your account <a href="https://api.youneedabudget.com" target="_blank">here</a>.</p>

<h2><a id="contributing" class="anchor" href="#contributing">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributing</h2>

<ol><li>Fork it (&lt;https://github.com/your-github-user/ynab/fork>)</li><li>Create your feature branch (<code>git checkout -b my-new-feature</code>)</li><li>Commit your changes (<code>git commit -am 'Add some feature'</code>)</li><li>Push to the branch (<code>git push origin my-new-feature</code>)</li><li>Create a new Pull Request</li></ol>

<h2><a id="contributors" class="anchor" href="#contributors">
  <svg class="octicon-link" aria-hidden="true">
    <use href="#octicon-link"/>
  </svg>
</a>Contributors</h2>

<ul><li><a href="https://github.com/jaredsmithse" target="_blank">@jaredsmithse</a> Jared Smith - creator, maintainer</li></ul>
</div>
</body>
</html>
